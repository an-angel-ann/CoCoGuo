<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoCo果好睡</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-main: #f0f4f8; /* 柔和的背景色 */
            --bg-card: #ffffff;
            --primary: #a7b3d9; /* 柔和的雾霾蓝 */
            --primary-light: #e2e8f0;
            --primary-dark: #8c9ac9;
            --text-primary: #334155;
            --text-secondary: #64748b;
            --heart-red: #f43f5e;
        }
        body {
            font-family: 'Noto Sans SC', sans-serif;
            -webkit-tap-highlight-color: transparent;
            background-color: var(--bg-main);
        }
        .main-nav-btn.active svg, .main-nav-btn.active span {
            color: var(--primary-dark);
            transform: scale(1.1);
        }
        .main-nav-btn {
            transition: transform 0.2s ease-in-out;
        }
        .tab-active {
            background-color: var(--primary);
            color: white;
            font-weight: 500;
            transform: scale(1.05);
        }
        .tab-inactive {
            background-color: var(--primary-light);
            color: var(--primary-dark);
        }
        .tab-btn {
            transition: transform 0.3s ease;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .accordion-content.open {
            max-height: 500px;
        }
        .rotate-180 {
            transform: rotate(180deg);
        }
        .interactive-card {
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease, filter 0.3s ease;
        }
        .interactive-card:hover {
            transform: translateY(-6px) scale(1.03);
            box-shadow: 0 12px 24px -8px rgba(140, 154, 201, 0.4);
            filter: brightness(1.05);
        }
        .interactive-card:active {
            transform: translateY(-2px) scale(0.98);
            filter: brightness(0.95);
        }
        main {
            padding-bottom: 90px; 
        }
        .page-container {
            padding-bottom: 2rem;
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background: white;
            padding: 24px;
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            transform: scale(0.9);
            transition: transform 0.3s;
        }
        .modal-overlay.visible .modal-content {
            transform: scale(1);
        }
        .horizontal-scroll-container {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .horizontal-scroll-container::-webkit-scrollbar {
            display: none;
        }
        .player-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('CoCo果.jpeg');
            background-size: 120%;
            background-position: center 20%;
            opacity: 0.1;
            filter: blur(3px);
            z-index: 1;
            pointer-events: none;
        }
        .favorite-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            z-index: 10;
            padding: 4px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 9999px;
            transition: transform 0.2s ease;
        }
        .favorite-btn:hover {
            transform: scale(1.2);
        }
        .favorite-btn svg {
            width: 20px;
            height: 20px;
            color: var(--text-secondary);
            transition: color 0.3s ease, fill 0.3s ease;
        }
        .favorite-btn.favorited svg {
            color: var(--heart-red);
            fill: var(--heart-red);
        }
    </style>
</head>
<body class="bg-[var(--bg-main)]">
    <div class="container mx-auto max-w-lg min-h-screen bg-[var(--bg-card)] shadow-2xl shadow-slate-300 relative">
        <main class="p-4 md:p-6">
            <!-- 页面1: 首页 -->
            <div id="page-home" class="page-container">
                <section id="player-section" class="relative overflow-hidden bg-gradient-to-br from-[var(--primary)] to-[#c5cce8] text-white rounded-2xl p-6 flex flex-col items-center shadow-lg mb-6">
                    <div class="player-background"></div>
                    <div class="relative z-10 w-full flex flex-col items-center">
                        <div class="flex items-center space-x-4 mb-4">
                             <img src="CoCo果.jpeg" alt="CoCo果好睡 Logo" class="w-16 h-16 rounded-full object-cover border-2 border-white/50 shadow-md">
                            <h1 class="text-2xl font-bold">CoCo果好睡</h1>
                        </div>
                        <div id="track-info" class="text-center mb-6 h-12"><h2 id="track-title" class="text-xl font-medium">请选择一首音乐</h2><p id="track-artist" class="text-sm opacity-80">CoCo果原创</p></div>
                        <div id="player-controls" class="flex items-center justify-center space-x-8"><button id="play-pause-btn" class="w-16 h-16 bg-white bg-opacity-30 rounded-full flex items-center justify-center text-[var(--primary-dark)] shadow-md transition-transform duration-200 active:scale-90"><svg id="play-icon" class="w-8 h-8 ml-1" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg><svg id="pause-icon" class="w-8 h-8 hidden" viewBox="0 0 24 24" fill="currentColor"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg></button></div>
                    </div>
                </section>
                
                <section id="age-gate-section" class="mb-8">
                    <h2 class="text-xl font-bold text-[var(--text-primary)] mb-4">分龄内容体系</h2>
                    <div id="tabs" class="flex justify-between space-x-2 bg-[var(--primary-light)] rounded-full p-1 mb-4">
                        <button data-target="panel-1" class="tab-btn flex-1 py-2 px-4 rounded-full text-sm tab-active">1-6岁</button>
                        <button data-target="panel-2" class="tab-btn flex-1 py-2 px-4 rounded-full text-sm tab-inactive">7-12岁</button>
                        <button data-target="panel-3" class="tab-btn flex-1 py-2 px-4 rounded-full text-sm tab-inactive">13-20岁</button>
                    </div>
                    <div id="panels">
                        <div id="panel-1" class="tab-panel grid grid-cols-2 gap-4">
                            <div class="interactive-card flex flex-col items-center justify-center text-center relative bg-yellow-100 text-yellow-800 p-4 rounded-xl" data-id="music-1" data-title="乐器童谣" data-artist="萌宝音乐盒" data-audio-src="http://music.163.com/song/media/outer/url?id=2028866896.mp3"><button class="favorite-btn" data-type="音乐" data-id="music-1"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><svg class="w-8 h-8 mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 01-.99-3.467l2.31-.66A2.25 2.25 0 009 15.553z" /></svg><p class="font-bold">乐器童谣</p><p class="text-xs mt-1">小提琴版</p></div>
                            <div class="interactive-card flex flex-col items-center justify-center text-center relative bg-sky-100 text-sky-800 p-4 rounded-xl" data-id="music-2" data-title="摇篮曲" data-artist="萌宝音乐盒" data-audio-src="http://music.163.com/song/media/outer/url?id=5248615.mp3"><button class="favorite-btn" data-type="音乐" data-id="music-2"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><svg class="w-8 h-8 mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" /></svg><p class="font-bold">摇篮曲</p><p class="text-xs mt-1">温柔安睡</p></div>
                            <div class="interactive-card flex flex-col items-center justify-center text-center relative bg-lime-100 text-lime-800 p-4 rounded-xl" data-id="music-3" data-title="经典儿歌" data-artist="萌宝音乐盒" data-audio-src="http://music.163.com/song/media/outer/url?id=1298718096.mp3"><button class="favorite-btn" data-type="音乐" data-id="music-3"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><svg class="w-8 h-8 mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125v-1.5c0-.621.504-1.125 1.125-1.125m17.25 0h.008v.008h-.008v-.008zm-17.25 0h-2.625c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125h2.625m17.25 0h2.625c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-2.625m-17.25 0h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-17.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z" /></svg><p class="font-bold">经典儿歌</p><p class="text-xs mt-1">钢琴版</p></div>
                            <div class="interactive-card flex flex-col items-center justify-center text-center relative bg-pink-100 text-pink-800 p-4 rounded-xl" data-id="music-4" data-title="自然之声" data-artist="萌宝音乐盒" data-audio-src="http://music.163.com/song/media/outer/url?id=2130398592.mp3"><button class="favorite-btn" data-type="音乐" data-id="music-4"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><svg class="w-8 h-8 mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-3.75 2.25M12 13.5l-3.75 2.25L12 18l3.75-2.25L12 13.5zm-3.75 0L12 12l3.75 1.5M12 12L8.25 9.75M12 12l3.75-1.5m-7.5 0v3.75c0 .621.504 1.125 1.125 1.125h10.25c.621 0 1.125-.504 1.125-1.125V9.75m-12.5 0v3.75m12.5-3.75v3.75m-12.5 0h12.5" /></svg><p class="font-bold">自然之声</p><p class="text-xs mt-1">森林动物</p></div>
                        </div>
                        <div id="panel-2" class="tab-panel grid grid-cols-2 gap-4 hidden">
                             <div class="interactive-card flex flex-col items-center justify-center text-center relative bg-teal-100 text-teal-800 p-4 rounded-xl" data-id="music-5" data-title="学科旋律课" data-artist="知识梦乡馆" data-audio-src="http://music.163.com/song/media/outer/url?id=2115802321.mp3"><button class="favorite-btn" data-type="音乐" data-id="music-5"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><svg class="w-8 h-8 mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18.75a6 6 0 006-6v-1.5m-6 7.5h-6a6 6 0 016-6v1.5m-6 0h.008v.008H6v-.008zm0 0h.008v.008H6v-.008zm.375 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" /></svg><p class="font-bold">学科旋律课</p><p class="text-xs mt-1">九九乘法表</p></div>
                            <div class="interactive-card flex flex-col items-center justify-center text-center relative bg-rose-100 text-rose-800 p-4 rounded-xl" data-id="music-6" data-title="知识梦乡馆" data-artist="知识梦乡馆" data-audio-src="http://music.163.com/song/media/outer/url?id=1897907191.mp3"><button class="favorite-btn" data-type="音乐" data-id="music-6"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><svg class="w-8 h-8 mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" /></svg><p class="font-bold">知识梦乡馆</p><p class="text-xs mt-1">静夜思</p></div>
                        </div>
                        <div id="panel-3" class="tab-panel grid grid-cols-2 gap-4 hidden">
                            <div class="interactive-card flex flex-col items-center justify-center text-center relative bg-fuchsia-100 text-fuchsia-800 p-4 rounded-xl" data-id="music-7" data-title="考试减压" data-artist="青春疗愈站" data-audio-src="http://music.163.com/song/media/outer/url?id=1883017411.mp3"><button class="favorite-btn" data-type="音乐" data-id="music-7"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><svg class="w-8 h-8 mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5M15 15l5.25 5.25" /></svg><p class="font-bold">考试减压</p><p class="text-xs mt-1">灵感音乐</p></div>
                            <div class="interactive-card relative bg-cyan-100 text-cyan-800 p-4 rounded-xl video-card flex flex-col items-center justify-center text-center" data-id="video-1" data-video-id="inpok4MKVLM" data-title="心理疏导"><button class="favorite-btn" data-type="视频" data-id="video-1"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><p class="text-3xl mb-2">🧘</p><p class="font-bold">心理疏导</p><p class="text-xs mt-1">5分钟冥想</p></div>
                        </div>
                    </div>
                </section>

                <section id="featured-playlist-section">
                    <h2 class="text-xl font-bold text-[var(--text-primary)] mb-4">精选歌单</h2>
                    <div class="flex space-x-4 overflow-x-auto pb-4 horizontal-scroll-container">
                        <a href="https://app.soundstripe.com/royalty-free-music?filter%5Bplaylist_ids%5D%5B%5D=Deep+Sleep&filter%5Btags.mood%5D%5B%5D=Calm&filter%5Btags.mood%5D%5B%5D%5B%5D%5B%5D=Reflective&filter%5Btags.mood%5D%5B%5D%5B%5D%5B%5D=Calm" target="_blank" rel="noopener noreferrer" class="flex-shrink-0 w-32 text-center interactive-card"><img src="bruce-mars-s8PTWCu5maQ-unsplash.jpg" alt="一个女人在睡觉的图片" class="rounded-lg mb-2 w-full h-32 object-cover"><p class="text-sm font-medium text-[var(--text-primary)]">Deep Sleep</p></a>
                        <a href="https://app.soundstripe.com/royalty-free-music?filter%5Bplaylist_ids%5D%5B%5D=Ambient+Atmospheric&filter%5Btags.mood%5D%5B%5D=Calm&filter%5Btags.mood%5D%5B%5D%5B%5D%5B%5D%5B%5D=Reflective&filter%5Btags.mood%5D%5B%5D%5B%5D%5B%5D%5B%5D=Calm" target="_blank" rel="noopener noreferrer" class="flex-shrink-0 w-32 text-center interactive-card"><img src="julia-toX2sYnycCw-unsplash.jpg" alt="一个床头柜，上面有灯和时钟的图片" class="rounded-lg mb-2 w-full h-32 object-cover"><p class="text-sm font-medium text-[var(--text-primary)]">Ambient Atmospheric</p></a>
                        <a href="https://app.soundstripe.com/royalty-free-music?filter%5Bplaylist_ids%5D%5B%5D=Natural+Connection&filter%5Btags.mood%5D%5B%5D=Calm&filter%5Btags.mood%5D%5B%5D%5B%5D%5B%5D%5B%5D%5B%5D=Reflective&filter%5Btags.mood%5D%5B%5D%5B%5D%5B%5D%5B%5D%5B%5D=Calm" target="_blank" rel="noopener noreferrer" class="flex-shrink-0 w-32 text-center interactive-card"><img src="casey-horner-4rDCa5hBlCs-unsplash.jpg" alt="从下往上看森林里高大树木的图片" class="rounded-lg mb-2 w-full h-32 object-cover"><p class="text-sm font-medium text-[var(--text-primary)]">Natural Connection</p></a>
                        <a href="https://app.soundstripe.com/royalty-free-music?filter%5Bplaylist_ids%5D%5B%5D=Rest+%26+Relax&filter%5Btags.mood%5D%5B%5D=Calm&filter%5Btags.mood%5D%5B%5D%5B%5D%5B%5D%5B%5D%5B%5D%5B%5D=Reflective&filter%5Btags.mood%5D%5B%5D%5B%5D%5B%5D%5B%5D%5B%5D%5B%5D=Calm" target="_blank" rel="noopener noreferrer" class="flex-shrink-0 w-32 text-center interactive-card"><img src="aleksandar-cvetanovic-A7nK49HCqSI-unsplash.jpg" alt="一只猫在蓬松的白色床上睡觉的图片" class="rounded-lg mb-2 w-full h-32 object-cover"><p class="text-sm font-medium text-[var(--text-primary)]">Rest & Relax</p></a>
                    </div>
                </section>
            </div>
            <!-- 页面2: 助眠知识 -->
            <div id="page-knowledge" class="hidden page-container">
                 <section id="knowledge-section">
                    <h2 class="text-xl font-bold text-[var(--text-primary)] mb-4">助眠小知识</h2>
                    <div class="space-y-4">
                        <div class="accordion-item relative bg-slate-50 rounded-xl interactive-card" data-id="knowledge-1" data-title="为什么睡前听故事能帮助入睡？"><button class="accordion-header w-full flex justify-between items-center text-left p-4"><div class="flex items-center"><span class="text-2xl mr-4">💡</span><span class="font-medium text-[var(--text-primary)]">为什么睡前听故事能帮助入睡？</span></div><svg class="accordion-arrow w-5 h-5 text-[var(--primary)] transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button><button class="favorite-btn" data-type="知识" data-id="knowledge-1"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><div class="accordion-content px-4"><div class="pt-2 pl-10"><p class="text-[var(--text-secondary)] text-sm pb-4">睡前故事能将孩子的注意力从白天的兴奋或焦虑中转移出来，进入一个平静、富有想象力的世界。固定的睡前仪式（如听故事）会给孩子建立一种安全感和可预见性，暗示身体“现在是放松和睡觉的时间了”，从而帮助大脑释放促进睡眠的信号。</p></div></div></div>
                        <div class="accordion-item relative bg-slate-50 rounded-xl interactive-card" data-id="knowledge-2" data-title="如何为青少年设置合适的睡前“减压区”？"><button class="accordion-header w-full flex justify-between items-center text-left p-4"><div class="flex items-center"><span class="text-2xl mr-4">📱</span><span class="font-medium text-[var(--text-primary)]">如何为青少年设置合适的睡前“减压区”？</span></div><svg class="accordion-arrow w-5 h-5 text-[var(--primary)] transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button><button class="favorite-btn" data-type="知识" data-id="knowledge-2"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><div class="accordion-content px-4"><div class="pt-2 pl-10"><p class="text-[var(--text-secondary)] text-sm pb-4">为面临学业压力的青少年创建一个“无电子产品”的睡前缓冲区至关重要。睡前一小时应避免使用手机和电脑，蓝光会抑制褪黑素分泌。可以鼓励他们进行轻度阅读、听舒缓音乐（如我们的减压歌单）、写日记或进行简单的伸展运动，这有助于清空大脑，缓解一天的紧张情绪。</p></div></div></div>
                        <div class="accordion-item relative bg-slate-50 rounded-xl interactive-card" data-id="knowledge-3" data-title="白噪音真的有助于睡眠吗？"><button class="accordion-header w-full flex justify-between items-center text-left p-4"><div class="flex items-center"><span class="text-2xl mr-4">🎶</span><span class="font-medium text-[var(--text-primary)]">白噪音真的有助于睡眠吗？</span></div><svg class="accordion-arrow w-5 h-5 text-[var(--primary)] transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button><button class="favorite-btn" data-type="知识" data-id="knowledge-3"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><div class="accordion-content px-4"><div class="pt-2 pl-10"><p class="text-[var(--text-secondary)] text-sm pb-4">白噪音是一种在所有频率上都具有相同强度的声音，听起来像风扇声或下雨声。它可以掩盖环境中突兀的噪音（如关门声、汽车鸣笛），创造一个更稳定、平和的听觉环境，从而减少睡眠期间的干扰，对许多人来说有助于更快入睡和保持深度睡眠。</p></div></div></div>
                        <div class="accordion-item relative bg-slate-50 rounded-xl interactive-card" data-id="knowledge-4" data-title="如何通过饮食改善睡眠？"><button class="accordion-header w-full flex justify-between items-center text-left p-4"><div class="flex items-center"><span class="text-2xl mr-4">🍎</span><span class="font-medium text-[var(--text-primary)]">如何通过饮食改善睡眠？</span></div><svg class="accordion-arrow w-5 h-5 text-[var(--primary)] transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button><button class="favorite-btn" data-type="知识" data-id="knowledge-4"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><div class="accordion-content px-4"><div class="pt-2 pl-10"><p class="text-[var(--text-secondary)] text-sm pb-4">睡前避免摄入咖啡因和大量糖分。可以适量食用一些富含色氨酸的食物，如牛奶、香蕉、杏仁等，它们有助于身体合成褪黑素和血清素，这两种物质都能促进放松和睡眠。</p></div></div></div>
                        <div class="accordion-item relative bg-slate-50 rounded-xl interactive-card" data-id="knowledge-5" data-title="建立完美睡前仪式的5个步骤"><button class="accordion-header w-full flex justify-between items-center text-left p-4"><div class="flex items-center"><span class="text-2xl mr-4">🧘</span><span class="font-medium text-[var(--text-primary)]">建立完美睡前仪式的5个步骤</span></div><svg class="accordion-arrow w-5 h-5 text-[var(--primary)] transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button><button class="favorite-btn" data-type="知识" data-id="knowledge-5"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button><div class="accordion-content px-4"><div class="pt-2 pl-10"><p class="text-[var(--text-secondary)] text-sm pb-4">1. **设定固定时间**：每天在同一时间上床睡觉和起床。 2. **调暗灯光**：睡前一小时调暗家中灯光。 3. **放松活动**：洗个热水澡、阅读或听轻音乐。 4. **告别屏幕**：关闭所有电子设备。 5. **舒适环境**：确保卧室安静、凉爽、黑暗。</p></div></div></div>
                    </div>
                </section>
            </div>
            <!-- 页面3: 我的 -->
            <div id="page-profile" class="hidden page-container">
                <section id="user-profile-section" class="flex items-center space-x-4 mb-8"><img src="https://placehold.co/80x80/e2e8f0/334155?text=CoCo" alt="用户头像" class="w-20 h-20 rounded-full border-4 border-white shadow-md"><div><h2 id="user-name" class="text-2xl font-bold text-[var(--text-primary)]">CoCo宝贝</h2><p id="membership-status" class="text-sm font-medium text-amber-600 bg-amber-100 rounded-full px-3 py-1 inline-block mt-1">✨ 尊贵会员</p></div></section>
                <section id="user-options" class="space-y-3 mb-8">
                    <button id="history-btn" class="interactive-card w-full flex items-center justify-between p-4 bg-slate-50 rounded-lg text-[var(--text-primary)] hover:bg-slate-100"><span class="font-medium">播放历史</span><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>
                    <button id="favorites-btn" class="interactive-card w-full flex items-center justify-between p-4 bg-slate-50 rounded-lg text-[var(--text-primary)] hover:bg-slate-100"><span class="font-medium">我的收藏</span><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>
                    <a href="#" class="interactive-card flex items-center justify-between p-4 bg-slate-50 rounded-lg text-[var(--text-primary)] hover:bg-slate-100"><span class="font-medium">设置</span><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a>
                </section>
                <section id="subscription-section" class="mb-8">
                    <h2 class="text-xl font-bold text-[var(--text-primary)] mb-4">会员中心</h2>
                    <div class="bg-gradient-to-r from-[var(--primary)] to-[#c5cce8] text-white rounded-xl p-4 text-center mb-4"><p class="font-medium">✨ 18元 = 1杯奶茶/月 = 孩子的睡前充电站 ✨</p></div>
                    <div class="border border-amber-300 bg-amber-50 rounded-lg p-4 mb-6"><h3 class="font-bold text-amber-800 mb-1">会员有效期</h3><p id="membership-expiry" class="text-amber-700">您的会员将于 2025-12-31到期。</p></div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3 text-center">
                        <div id="monthly-plan" class="interactive-card border-2 border-[var(--primary-light)] bg-white rounded-lg p-4"><p class="font-bold text-[var(--primary-dark)]">月度会员</p><p class="text-2xl font-bold text-[var(--text-primary)] my-2">18<span class="text-sm font-normal">元</span></p><p class="text-xs text-[var(--text-secondary)]">基础选择</p></div>
                        <div id="bimonthly-plan" class="interactive-card border-2 border-[var(--primary)] bg-indigo-100 rounded-lg p-4 relative"><span class="absolute top-0 -mt-3 bg-[var(--primary-dark)] text-white text-xs font-bold px-3 py-1 rounded-full">优惠16%</span><p class="font-bold text-[var(--primary-dark)]">双月会员</p><p class="text-2xl font-bold text-[var(--text-primary)] my-2">38<span class="text-sm font-normal">元</span></p><p class="text-xs text-[var(--text-secondary)]">省8元</p></div>
                        <div id="yearly-plan" class="interactive-card border-2 border-[var(--primary-light)] bg-white rounded-lg p-4"><p class="font-bold text-[var(--primary-dark)]">年度会员</p><p class="text-2xl font-bold text-[var(--text-primary)] my-2">168<span class="text-sm font-normal">元</span></p><p class="text-xs text-[var(--text-secondary)]">立省48元</p></div>
                    </div>
                    <button class="interactive-card w-full bg-[var(--primary-dark)] hover:bg-[var(--primary)] text-white font-bold py-3 px-4 rounded-lg mt-4 transition-colors duration-300">立即续费</button>
                </section>
                 <section id="support-section">
                    <h2 class="text-xl font-bold text-[var(--text-primary)] mb-4">帮助与支持</h2>
                    <div class="space-y-3">
                        <button id="about-us-btn" class="interactive-card w-full flex items-center justify-between p-4 bg-slate-50 rounded-lg text-[var(--text-primary)] hover:bg-slate-100"><span class="font-medium">关于我们</span><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>
                        <button id="experience-center-btn" class="interactive-card w-full flex items-center justify-between p-4 bg-slate-50 rounded-lg text-[var(--text-primary)] hover:bg-slate-100"><span class="font-medium">线下体验馆</span><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>
                        <a href="#" class="interactive-card flex items-center justify-between p-4 bg-slate-50 rounded-lg text-[var(--text-primary)] hover:bg-slate-100"><span class="font-medium">联系客服</span><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a>
                    </div>
                </section>
            </div>
        </main>
        <nav class="fixed bottom-0 left-0 right-0 max-w-lg mx-auto bg-white border-t border-gray-200 flex justify-around py-2">
            <button data-page="page-home" class="main-nav-btn flex flex-col items-center text-gray-500 w-1/3 active"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg><span class="text-xs mt-1">首页</span></button>
            <button data-page="page-knowledge" class="main-nav-btn flex flex-col items-center text-gray-500 w-1/3"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg><span class="text-xs mt-1">助眠知识</span></tton>
            <button data-page="page-profile" class="main-nav-btn flex flex-col items-center text-gray-500 w-1/3"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg><span class="text-xs mt-1">我的</span></button>
        </nav>
        
        <div id="video-modal" class="modal-overlay">
            <div class="modal-content"><div class="aspect-w-16 aspect-h-9"><iframe id="youtube-player" style="border-radius: 12px;" width="100%" height="100%" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><button id="close-video-modal-btn" class="mt-4 w-full bg-[var(--primary-dark)] text-white py-2 rounded-lg interactive-card">关闭</button></div>
        </div>
        <div id="history-modal" class="modal-overlay">
            <div class="modal-content"><h3 class="text-lg font-bold text-[var(--text-primary)] mb-4">播放历史</h3><div id="history-list" class="space-y-2 max-h-64 overflow-y-auto"></div><button id="close-history-modal-btn" class="mt-4 w-full bg-[var(--primary-dark)] text-white py-2 rounded-lg interactive-card">关闭</button></div>
        </div>
        <div id="favorites-modal" class="modal-overlay">
            <div class="modal-content"><h3 class="text-lg font-bold text-[var(--text-primary)] mb-4">我的收藏</h3><div id="favorites-list" class="space-y-2 max-h-64 overflow-y-auto"></div><button id="close-favorites-modal-btn" class="mt-4 w-full bg-[var(--primary-dark)] text-white py-2 rounded-lg interactive-card">关闭</button></div>
        </div>
         <div id="about-us-modal" class="modal-overlay">
            <div class="modal-content text-center"><h3 class="text-lg font-bold text-[var(--text-primary)] mb-4">关于我们</h3><p class="text-[var(--text-secondary)]">我们是三名8-10岁的小学生，我们叫CoCo、Cody和果果，这款app的名字结合了我们三个人的名字第一个音节，希望能够帮助大家睡得快又香。</p><button id="close-about-us-modal-btn" class="mt-6 w-full bg-[var(--primary-dark)] text-white py-2 rounded-lg interactive-card">关闭</button></div>
        </div>
        <div id="plan-details-modal" class="modal-overlay">
            <div class="modal-content text-center"><h3 id="plan-modal-title" class="text-lg font-bold text-[var(--text-primary)] mb-4"></h3><p id="plan-modal-text" class="text-[var(--text-secondary)]"></p><button id="close-plan-modal-btn" class="mt-6 w-full bg-[var(--primary-dark)] text-white py-2 rounded-lg interactive-card">关闭</button></div>
        </div>
        <div id="experience-center-modal" class="modal-overlay">
            <div class="modal-content text-center"><h3 class="text-lg font-bold text-[var(--text-primary)] mb-4">线下体验馆</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"><img src="20250620-005016.jpeg" class="rounded-lg w-full object-cover" alt="线下体验馆室内图"><img src="设计助眠体验馆.jpg" class="rounded-lg w-full object-cover" alt="线下体验馆外景图"></div><div class="h-64 w-full rounded-lg overflow-hidden border-2 border-[var(--primary-light)]"><iframe width="100%" height="100%" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://www.openstreetmap.org/export/embed.html?bbox=116.475,39.885,116.485,39.895&amp;layer=mapnik&amp;marker=39.89,116.48"></iframe></div><p class="text-sm text-[var(--text-secondary)] mt-2">地址：北京市朝阳区合生汇写字楼</p><button id="close-experience-center-modal-btn" class="mt-6 w-full bg-[var(--primary-dark)] text-white py-2 rounded-lg interactive-card">关闭</button></div>
        </div>
    </div>
    
    <audio id="audio-player" class="hidden"></audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const audioPlayer = document.getElementById('audio-player');
            const playPauseBtn = document.getElementById('play-pause-btn');
            const playIcon = document.getElementById('play-icon');
            const pauseIcon = document.getElementById('pause-icon');
            const trackTitleEl = document.getElementById('track-title');
            const trackArtistEl = document.getElementById('track-artist');

            const user = { name: 'CoCo宝贝', isMember: true, membershipExpiry: '2025-12-31' };
            let playbackHistory = [];
            let favorites = [];
            let allContent = {};

             function initializeContent() {
                document.querySelectorAll('[data-id]').forEach(el => {
                    const id = el.dataset.id;
                    allContent[id] = {
                        id: id,
                        title: el.dataset.title,
                        type: el.querySelector('.favorite-btn')?.dataset.type || '链接',
                        artist: el.dataset.artist,
                        audioSrc: el.dataset.audioSrc,
                        videoId: el.dataset.videoId
                    };
                });
            }

            function addToHistory(title, type) {
                if (playbackHistory.length > 0 && playbackHistory[0].title === title) return;
                playbackHistory.unshift({ title, type });
                if (playbackHistory.length > 15) playbackHistory.pop();
            }
            
            function isFavorited(id) {
                return favorites.some(item => item.id === id);
            }

            function toggleFavorite(id) {
                const favIndex = favorites.findIndex(item => item.id === id);
                if (favIndex > -1) {
                    favorites.splice(favIndex, 1);
                } else {
                    if (allContent[id]) {
                       favorites.unshift(allContent[id]);
                    }
                }
                updateFavoriteIcons(id);
            }

            function updateFavoriteIcons(id) {
                 document.querySelectorAll(`.favorite-btn[data-id="${id}"]`).forEach(btn => {
                    btn.classList.toggle('favorited', isFavorited(id));
                });
            }
            
            function playAudio(src, title, artist) {
                trackTitleEl.textContent = title;
                trackArtistEl.textContent = artist;
                audioPlayer.src = src;
                audioPlayer.play();
                addToHistory(title, '音乐');
            }

            audioPlayer.addEventListener('play', () => {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            });

            audioPlayer.addEventListener('pause', () => {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            });
            
            playPauseBtn.addEventListener('click', () => {
                if (!audioPlayer.src) {
                    const firstSong = document.querySelector('.interactive-card[data-audio-src]');
                    if (firstSong) playAudio(firstSong.dataset.audioSrc, firstSong.dataset.title, firstSong.dataset.artist);
                    return;
                }
                if (audioPlayer.paused) audioPlayer.play();
                else audioPlayer.pause();
            });
            
            const mainNavBtns = document.querySelectorAll('.main-nav-btn');
            const pages = document.querySelectorAll('main > div.page-container');
            mainNavBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    mainNavBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    pages.forEach(p => p.classList.add('hidden'));
                    document.getElementById(btn.dataset.page).classList.remove('hidden');
                });
            });

            const ageTabs = document.querySelectorAll('.tab-btn');
            const agePanels = document.querySelectorAll('.tab-panel');
            ageTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    ageTabs.forEach(item => {
                        item.classList.replace('tab-active', 'tab-inactive');
                    });
                    tab.classList.replace('tab-inactive', 'tab-active');
                    agePanels.forEach(panel => panel.classList.add('hidden'));
                    document.getElementById(tab.dataset.target).classList.remove('hidden');
                });
            });
            
            document.querySelectorAll('.interactive-card[data-audio-src]').forEach(card => {
                card.addEventListener('click', (e) => {
                    if (e.target.closest('.favorite-btn')) return;
                    playAudio(card.dataset.audioSrc, card.dataset.title, card.dataset.artist);
                });
            });

            const accordionHeaders = document.querySelectorAll('.accordion-header');
            accordionHeaders.forEach(header => {
                header.addEventListener('click', (e) => {
                     if (e.target.closest('.favorite-btn')) return;
                    header.parentElement.querySelector('.accordion-content').classList.toggle('open');
                    header.querySelector('.accordion-arrow').classList.toggle('rotate-180');
                });
            });

            document.querySelectorAll('.favorite-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const id = btn.dataset.id;
                    toggleFavorite(id);
                });
            });
            
            const modals = {
                video: document.getElementById('video-modal'),
                history: document.getElementById('history-modal'),
                favorites: document.getElementById('favorites-modal'),
                aboutUs: document.getElementById('about-us-modal'),
                planDetails: document.getElementById('plan-details-modal'),
                experienceCenter: document.getElementById('experience-center-modal'),
            };
            const youtubePlayer = document.getElementById('youtube-player');
            
            function openVideoModal(url, title) {
                youtubePlayer.src = url;
                modals.video.classList.add('visible');
                audioPlayer.pause();
                addToHistory(title, '视频');
            }
            
            document.querySelectorAll('.video-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    if (e.target.closest('.favorite-btn')) return;
                    const videoId = card.dataset.videoId;
                    openVideoModal(`https://www.youtube.com/embed/${videoId}?autoplay=1`, card.dataset.title);
                });
            });

            document.getElementById('history-btn').addEventListener('click', () => {
                const listEl = document.getElementById('history-list');
                listEl.innerHTML = '';
                if (playbackHistory.length === 0) listEl.innerHTML = `<p class="text-[var(--text-secondary)]">还没有播放历史哦</p>`;
                else playbackHistory.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'flex justify-between items-center p-2 bg-slate-50 rounded-md';
                    div.innerHTML = `<span class="text-sm text-[var(--text-primary)]">${item.title}</span><span class="text-xs text-white ${item.type === '音乐' ? 'bg-sky-400' : 'bg-rose-400'} px-2 py-1 rounded-full">${item.type}</span>`;
                    listEl.appendChild(div);
                });
                modals.history.classList.add('visible');
            });
            
            document.getElementById('favorites-btn').addEventListener('click', () => {
                const listEl = document.getElementById('favorites-list');
                listEl.innerHTML = '';
                if (favorites.length === 0) listEl.innerHTML = `<p class="text-[var(--text-secondary)]">还没有收藏内容哦</p>`;
                else favorites.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'interactive-card flex justify-between items-center p-2 bg-slate-50 rounded-md';
                    div.dataset.id = item.id;
                    div.innerHTML = `<span class="text-sm text-[var(--text-primary)]">${item.title}</span><span class="text-xs text-white ${item.type === '音乐' ? 'bg-sky-400' : item.type === '视频' ? 'bg-rose-400' : 'bg-green-400'} px-2 py-1 rounded-full">${item.type}</span>`;
                    div.addEventListener('click', () => {
                        const content = allContent[item.id];
                        if (content.type === '音乐') {
                            playAudio(content.audioSrc, content.title, content.artist);
                        } else if (content.type === '视频') {
                            openVideoModal(`https://www.youtube.com/embed/${content.videoId}?autoplay=1`, content.title);
                        }
                        modals.favorites.classList.remove('visible');
                    });
                    listEl.appendChild(div);
                });
                modals.favorites.classList.add('visible');
            });
            
            document.getElementById('about-us-btn').addEventListener('click', () => modals.aboutUs.classList.add('visible'));
            document.getElementById('experience-center-btn').addEventListener('click', () => modals.experienceCenter.classList.add('visible'));

            const planDetails = {
                'monthly-plan': { title: '月度会员权益', text: '可享受24/7 app线上服务与线下睡眠体验馆预约资格，详询客服。' },
                'bimonthly-plan': { title: '双月会员权益', text: '包含所有月度会员权益，并享受价格优惠。' },
                'yearly-plan': { title: '年度会员权益', text: '包含所有会员权益，全年畅享，价格最优惠。' },
            };

            Object.keys(planDetails).forEach(id => {
                document.getElementById(id).addEventListener('click', () => {
                    document.getElementById('plan-modal-title').textContent = planDetails[id].title;
                    document.getElementById('plan-modal-text').textContent = planDetails[id].text;
                    modals.planDetails.classList.add('visible');
                });
            });

            // Close modal events
            Object.values(modals).forEach(modal => {
                const closeBtn = modal.querySelector('button[id^="close-"]');
                closeBtn.addEventListener('click', () => modal.classList.remove('visible'));
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.classList.remove('visible');
                        if (modal === modals.video) youtubePlayer.src = '';
                    }
                });
            });
            
            function renderProfile() {
                document.getElementById('user-name').textContent = user.name;
                const expiryEl = document.getElementById('membership-expiry');
                if (user.isMember) {
                    expiryEl.parentElement.classList.remove('hidden');
                    expiryEl.textContent = `您的会员将于 ${user.membershipExpiry} 到期。`;
                } else {
                    expiryEl.parentElement.classList.add('hidden');
                }
            }

            initializeContent();
            renderProfile();
        });
    </script>

    <script>
        // 获取所有收藏按钮
        const favoriteBtns = document.querySelectorAll('.favorite-btn');
        // 获取收藏列表容器
        const favoritesList = document.getElementById('favorites-list');
        // 获取我的收藏模态框
        const favoritesModal = document.getElementById('favorites-modal');
        // 获取打开我的收藏模态框的按钮
        const favoritesBtn = document.getElementById('favorites-btn');
        // 获取关闭我的收藏模态框的按钮
        const closeFavoritesModalBtn = document.getElementById('close-favorites-modal-btn');
        // 初始化收藏列表
        let favorites = [];

        // 加载本地存储的收藏数据
        if (localStorage.getItem('favorites')) {
            favorites = JSON.parse(localStorage.getItem('favorites'));
            updateFavoritesList();
        }

        // 为每个收藏按钮添加点击事件监听器
        favoriteBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const id = btn.dataset.id;
                const type = btn.dataset.type;
                const title = btn.closest('.interactive-card').dataset.title;

                // 检查是否已收藏
                const index = favorites.findIndex(item => item.id === id && item.type === type);

                if (index === -1) {
                    // 未收藏，添加到收藏列表
                    favorites.push({ id, type, title });
                    btn.classList.add('favorited');
                } else {
                    // 已收藏，从收藏列表中移除
                    favorites.splice(index, 1);
                    btn.classList.remove('favorited');
                }

                // 更新本地存储
                localStorage.setItem('favorites', JSON.stringify(favorites));
                updateFavoritesList();
            });
        });

        // 更新收藏列表显示
        function updateFavoritesList() {
            favoritesList.innerHTML = '';
            favorites.forEach(item => {
                const listItem = document.createElement('div');
                listItem.textContent = `${item.type}: ${item.title}`;
                favoritesList.appendChild(listItem);
            });
        }

        // 打开我的收藏模态框
        favoritesBtn.addEventListener('click', () => {
            favoritesModal.classList.add('visible');
        });

        // 关闭我的收藏模态框
        closeFavoritesModalBtn.addEventListener('click', () => {
            favoritesModal.classList.remove('visible');
        });
    </script>

</body>
</html>
